<?xml version="1.0" encoding="UTF-8"?>
<test-set xmlns:xs="http://www.w3.org/2001/XMLSchema"
   xmlns="http://www.w3.org/2012/10/xslt-test-catalog" name="whitespace">
   <description>Tests whitespace</description>
   <environment name="whitespace-01">
      <source role=".">
         <content><![CDATA[<doc></doc>]]></content>
      </source>
   </environment>
   <environment name="whitespace-02">
      <source role=".">
         <content><![CDATA[<doc size="1.5">
  <top-node><rubbish>Content of Rubbish</rubbish></top-node>
</doc>]]></content>
      </source>
   </environment>
   <environment name="whitespace-03">
      <source role=".">
         <content><![CDATA[<doc>
   <foo/>
   <foo/>
</doc>]]></content>
      </source>
   </environment>
   <environment name="whitespace-04">
      <source role="." file="whitespace-04.xml"/>
   </environment>

   <environment name="whitespace-05">
      <source role="." file="whitespace-05.xml"/>
   </environment>

   <environment name="whitespace-06">
      <source role="." file="whitespace-06.xml" validation="strict"/>
      <schema role="source-reference" file="whitespace-06.xsd" xsd-version="1.0"/>
   </environment>

   <environment name="whitespace-07">
      <source role=".">
         <content><![CDATA[ 

<doc>
  <test1>
       <a>a</a>
       <b>b</b>
  </test1>
  <test2>
       <c>c</c>
       <d>d</d>
  </test2>
</doc>]]></content>
      </source>
   </environment>

   <environment name="whitespace-09">
      <source role="." file="whitespace-09.xml"/>
   </environment>
   <environment name="whitespace-10">
      <source role=".">
         <content><![CDATA[ 

<doc>
</doc>
]]></content>
      </source>
   </environment>

   <environment name="whitespace-12">
      <source role=".">
         <content><![CDATA[ 

<doc>
  <foo>a</foo>
</doc>
]]></content>
      </source>
   </environment>

   <environment name="whitespace-17">
      <source role=".">
         <content><![CDATA[<document>
  <section/>  <section/>  <section/>
</document>]]></content>
      </source>
   </environment>


   <test-case name="whitespace-0101">
      <description> Test that whitespace text nodes as children of xsl:analyze-string which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0101.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><E1>a*cada*</E1></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0102">
      <description> Test that whitespace text nodes as children of xsl:apply-imports which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0102.xsl"/>
         <stylesheet file="import1.xsl" role="secondary"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><b>primary stylesheet</b><a> imported stylesheet </a></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0103">
      <description> Test that whitespace text nodes as children of xsl:character-map which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <modified by="John Lumley" on="2014-09-02" change="Declared serialization requirement"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0103.xsl"/>
         <output serialize="yes"/>
      </test>
      <result>
         <serialization-matches>bbbbbb</serialization-matches>
      </result>
   </test-case>

   <test-case name="whitespace-0104">
      <description> Test that whitespace text nodes as children of xsl:next-match which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0104.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><b>primary stylesheet</b><a> next match </a></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0105">
      <description> Test that whitespace text nodes as children of xsl:apply-templates which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0105.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><b>template for root</b><a> template for doc </a></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0106">
      <description> Test that whitespace text nodes as children of xsl:attribute-set which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0106.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><item color="red" number="2"/></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0107">
      <description> Test that whitespace text nodes as children of xsl:call-template which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0107.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><b>template for doc</b><a> temp template </a></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0108">
      <description> Test that whitespace text nodes as children of xsl:choose which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0108.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><a>true</a></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0109">
      <description> Test that whitespace text nodes as children of xsl:stylesheet which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0109.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>test</out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0110">
      <description>Test that whitespace text nodes as children of xsl:transform which has
         @xml:space=preserve do not interfere with processing of the instruction. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0110.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>test</out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0111">
      <description>Test referencing an internal whitespace entity and an external parameter
         whitespace entity defined in a DTD.</description>
      <created by="Michael Kay" on="2012-10-30"/>
      <modified by="John Lumley" on="2014-09-02" change="Declared serialization requirement"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0111.xsl"/>
         <output serialize="yes"/>
      </test>
      <result>
         <all-of>
            <serialization-matches><![CDATA[<a>\r?\n\r?\n</a>]]></serialization-matches>
            <serialization-matches><![CDATA[<b>\stest</b>]]></serialization-matches>
         </all-of>
      </result>
   </test-case>

   <test-case name="whitespace-0112">
      <description> Test with LRE that contains two text nodes with comment in between. First text
         node has whitespace only. Cases tested: - second text node starts with whitespace - second
         text node does not start with whitespace</description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0112.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><e>   h   </e><e>   h   </e></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0113">
      <description> Test with LRE that contains two text nodes with processing-instruction in
         between. First text node has whitespace only. Cases tested: - second text node starts with
         whitespace - second text node does not start with whitespace </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0113.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><e>   h</e><e>h   </e></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0114">
      <description> Test with an element constructed with whitespace text node children. The element
         is stored in a variable and its name is listed in xsl:strip-space. Confirm that the element
         has a text node child. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0114.xsl"/>
      </test>
      <result>
         <all-of>
            <assert>/out/a[1] = "  "</assert>
            <assert>/out/a[2] = "1"</assert>
         </all-of>
      </result>
   </test-case>

   <test-case name="whitespace-0115">
      <description> In xsl:strip-space, prefix of nametest must be declared </description>
      <created by="Michael Kay" on="2013-09-22"/>
      <environment ref="whitespace-01"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0115.xsl"/>
      </test>
      <result>
         <error code="XTSE0280"/>
      </result>
   </test-case>

   <test-case name="whitespace-0201">
      <description> Test with whitespace text nodes as preceding-siblings of xsl:param. Parent has
         @xml:space=preserve. Whitespace must be stripped. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-02"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0201.xsl"/>
      </test>
      <result>
         <all-of>
            <assert>/out/a = "Content of Rubbish"</assert>
            <assert>/out/b = "Content of Rubbish"</assert>
         </all-of>
      </result>
   </test-case>

   <test-case name="whitespace-0301">
      <description> Test with whitespace text nodes as preceding-siblings of xsl:sort. Parent has
         @xml:space=preserve. Whitespace must be stripped. </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-03"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0301.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<o>32 32 9 32 10 32 13 10 32 32 9 32 10 32 13 10</o>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0401">
      <description> Test xsl:preserve-space with @elements="*:NCName". Template rules have
         match="*", match="*:NCName" and match="QName" </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <modified by="John Lumley" on="2014-09-02" change="Declared serialization requirement"/>
      <environment ref="whitespace-04"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0401.xsl"/>
         <output serialize="yes"/>
      </test>
      <result>
         <assert-serialization method="xml" file="whitespace013.out"/>
      </result>
   </test-case>

   <test-case name="whitespace-0402">
      <description> Test xsl:strip-space with @elements="*:NCName". Template rules have match="*",
         match="*:NCName" and match="QName". </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <modified by="John Lumley" on="2014-09-02" change="Declared serialization requirement"/>
      <environment ref="whitespace-04"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0402.xsl"/>
         <output serialize="yes"/>
      </test>
      <result>
         <assert-serialization method="xml" file="whitespace015.out"/>
      </result>
   </test-case>

   <test-case name="whitespace-0501">
      <description> Test xsl:preserve-space with @elements="NCName:*". Template rules have
         match="*", match="NCName:* and match="QName". </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <modified by="John Lumley" on="2014-09-02" change="Declared serialization requirement"/>
      <environment ref="whitespace-05"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0501.xsl"/>
         <output serialize="yes"/>
      </test>
      <result>
         <assert-serialization method="xml" file="whitespace014.out"/>
      </result>
   </test-case>

   <test-case name="whitespace-0502">
      <description>Test xsl:strip-space with @elements="NCName:*". Template rules have match="*" ,
         match="NCName:* and match="QName".</description>
      <created by="Michael Kay" on="2012-10-30"/>
      <modified by="John Lumley" on="2014-09-02" change="Declared serialization requirement"/>
      <environment ref="whitespace-05"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0502.xsl"/>
         <output serialize="yes"/>
      </test>
      <result>
         <assert-serialization method="xml" file="whitespace016.out"/>
      </result>
   </test-case>

   <test-case name="whitespace-0601">
      <description> Test that whitespace text nodes are stripped from elements with element only
         content regardless of xsl:preserve-space or xsl:strip-space.</description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="whitespace-06"/>
      <dependencies>
         <spec value="XSLT10+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0601.xsl"/>
      </test>
      <result>
         <assert>/ok</assert>
      </result>
   </test-case>

   <test-case name="whitespace-0602">
      <description> Test that whitespace text nodes are not stripped from elements with simple
         content regardless of xsl:preserve-space or xsl:strip-space.</description>
      <created by="Michael Kay" on="2012-12-07"/>
      <environment ref="whitespace-06"/>
      <dependencies>
         <spec value="XSLT10+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0602.xsl"/>
      </test>
      <result>
         <assert>/ok</assert>
      </result>
   </test-case>

   <test-case name="whitespace-0603">
      <description> Test that whitespace text nodes are not stripped from elements having an
         ancestor whose governing type contains an XSD 1.1 assertion. </description>
      <created by="Michael Kay" on="2012-12-07"/>
      <environment>
         <source role="." file="whitespace-06a.xml" uri="whitespace-06a.xml" validation="strict"/>
         <schema file="whitespace-06a.xsd" uri="whitespace-06a.xsd" role="source-reference"
            xsd-version="1.1"/>
      </environment>
      <dependencies>
         <spec value="XSLT10+"/>
         <feature value="schema_aware"/>
         <feature value="XSD_1.1"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0603.xsl"/>
      </test>
      <result>
         <assert>/ok</assert>
      </result>
   </test-case>

   <test-case name="whitespace-0701">
      <description>Another Test for white-space</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-07"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0701.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>ab
       c
       d
  </out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0702">
      <description>Another Test for white-space (xsl:strip-space)</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-07"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0702.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>abcd</out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0703">
      <description>Another Test for white-space</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-07"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0703.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>abcd</out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0704">
      <description>Another Test for white-space (xsl:strip-space and
         xsl:preserve-space)</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-07"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0704.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>ab
       c
       d
  </out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0801">
      <description>Another Test for white-space handling</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role=".">
            <content><![CDATA[<doc>
    <a>a</a>
    <b> <!-- test -->b</b>
</doc>]]></content>
         </source>
      </environment>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0801.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>ab</out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0901">
      <description>Another Test for white-space</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-09"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0901.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out xmlns:ns1="http://ns1/">ab
       c
       d
  </out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-0902">
      <description>Another Test for white-space</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-09"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-0902.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out xmlns:ns1="http://ns1/">ab
       c
       d
  </out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1001">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-10"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1001.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out> </out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1002">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-10"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1002.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out/>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1003">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-10"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1003.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>
      x
      </out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1004">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-10"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1004.xsl"/>
      </test>
      <result>
         <!-- result is a tree containing a document node owning a text node -->
         <all-of>
            <assert>matches(., '\n\s+x\n\s+')</assert>
            <assert>/child::text()</assert>
            <assert>count(/child::node()) = 1</assert>
         </all-of>
      </result>
   </test-case>

   <test-case name="whitespace-1005">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-10"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1005.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><foo/></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1101">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role=".">
            <content><![CDATA[<document>
  <section/>  <section/>  <section/>
</document>]]></content>
         </source>
      </environment>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1101.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out>Position:1,Last:3
Position:2,Last:3
Position:3,Last:3
</out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1201">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-12"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1201.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out> test </out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1202">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-12"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1202.xsl"/>
      </test>
      <result>
         <all-of>
            <assert>/text() = "test"</assert>
            <assert>not(/*)</assert>
         </all-of>
      </result>
   </test-case>

   <test-case name="whitespace-1203">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-12"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1203.xsl"/>
      </test>
      <result>
         <all-of>
            <assert>/text() = "a"</assert>
            <assert>not(/*)</assert>
         </all-of>
      </result>
   </test-case>

   <test-case name="whitespace-1301">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role=".">
            <content><![CDATA[ 

<doc/>]]></content>
         </source>
      </environment>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1301.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out/>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1401">
      <description>test that the default namespace is NOT used for names in
         xsl:strip-space</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role=".">
            <content><![CDATA[<doc xmlns="http://foo.uri/"><a> </a><b> </b><c> </c></doc>]]></content>
         </source>
      </environment>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1401.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<doc xmlns="http://foo.uri/"><a> </a><b> </b><c> </c></doc>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1501">
      <description>test two conflicting xsl:strip-space declarations (recoverable
         error)</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <modified by="Abel Braaksma" on="2014-02-11"
         change="XTSE0270 - is not a recoverable error in XSLT30"/>
      <environment>
         <source role=".">
            <content><![CDATA[<doc><a> </a><b> </b><c> </c></doc>]]></content>
         </source>
      </environment>
      <dependencies>
         <spec value="XSLT10 XSLT20"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1501.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<doc><a/><b> </b><c/></doc>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1601">
      <description>Test import precedence for xsl:strip-space</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role=".">
            <content><![CDATA[<abc:doc xmlns:abc="http://abc.uri/">
<abc:w>   </abc:w>
<abc:x>   </abc:x>
<abc:y>   </abc:y>
<abc:z>   </abc:z>
<q>    </q>
</abc:doc>]]></content>
         </source>
      </environment>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1601.xsl"/>
         <stylesheet file="whitespace-1601a.xsl" role="secondary"/>
      </test>
      <result>
         <assert-xml><![CDATA[<abc:doc xmlns:abc="http://abc.uri/"><abc:w>   </abc:w><abc:x/><abc:y/><abc:z/><q>    </q></abc:doc>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1701">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-17"/>
      <dependencies>
         <spec value="XSLT20+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1701.xsl"/>
      </test>
      <result>
         <all-of>
            <assert>/text() = "'test''test'"</assert>
            <assert>not(/*)</assert>
         </all-of>
      </result>
   </test-case>

   <test-case name="whitespace-1702">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-17"/>
      <dependencies>
         <spec value="XSLT20+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1702.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><!--[[[fred]]]--><!--[[[ fred ]]]--></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1703">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-17"/>
      <dependencies>
         <spec value="XSLT20+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1703.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><?p [[[fred]]]?><?q [[[ fred ]]]?></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1704">
      <description>no confict reported in 2.0 if there are two identical strip-space or
         preserve-space declarations</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-17"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1704.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<document><section/><section/><section/></document>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1705">
      <description>liberal use of whitespace in attribute values in the stylesheet: see erratum
         E2</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="whitespace-17"/>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1705.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<document><section/><section/><section/></document>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="whitespace-1801">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <modified by="John Lumley" on="2014-09-02" change="Declared serialization requirement"/>
      <environment>
         <source role=".">
            <content><![CDATA[<a xml:space="preserve">
  <b xml:space="default">  </b>
  <c>  </c>
  <d xml:space="preserve">  </d>
  <e xml:space="default">
    <f xml:space="preserve">  </f>
  </e>
</a>]]></content>
         </source>
      </environment>
      <dependencies>
         <spec value="XSLT10+"/>
      </dependencies>
      <test>
         <stylesheet file="whitespace-1801.xsl"/>
         <output serialize="yes"/>
      </test>
      <result>
         <assert-serialization method="xml" file="whitespace-1801.out"/>
      </result>
   </test-case>
</test-set>
